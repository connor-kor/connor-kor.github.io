---
  title: 강의3
category: fullstack-class
---

## 9.29

오답

3-1. 수업을  9시 정각에 시작 후 현재 몇 초가 지났나?

```java
LocalTime now = LocalTime.now();
LocalTime start = LocalTime.of(9, 0);
```

**until**

```java
System.out.println(start.until(now, ChronoUnit.SECONDS));
```

**Duration**

```java
```

3-2. 개강(21.8.18) 후 오늘까지 몇일이 지났나?

```java
LocalDate today = LocalDate.now();
LocalDate start = LocalDate.of(2021, 8, 18);
```

**until**

```java
System.out.println(start.until(today, ChronoUnit.DAYS));
```

**Period**

```java

```

4-1. 다음 주 토요일은 몇 일인가?

```java
LocalDate today = LocalDate.now();
LocalDate nxSa = today.with(TemporalAdjusters.next(DayOfWeek.SATURDAY));
System.out.println(nxSa);
```

8-1. java.time 패키지 클래스 사용.
년, 월, 일, 시간, 분, 초, 밀리세컨트 정보 출력. 

Q. 밀리세컨드를 출력하는 방법?

A. 



9-1. String source = "2021/9/29" 을 LocalDate 클래스로 형 변환 코딩.

`LocalDate.parse(String)` yyyy-MM-dd 형식만 받을 수 있다.

**replaceAll**

```java
LocalDate d = LocalDate.parse(source.replaceAll("/", "-"));
```

**DateTimeFormatter**

```java
LocalDate d = LocalDate.parse(source, DateTimeFormatter.ofPattern("yyyy/MM/dd"));
```

> 월이나 일이 한자리 수이면 에러가난다.

전체코드

```java
try (Scanner scanner = new Scanner(System.in);){
    System.out.printf("> 날짜 입력 (2019/09/15) ? ");
    String source = scanner.next();
    DateTimeFormatter formatter = DateTimeFormatter.ofPattern("yyyy/MM/dd");
    LocalDate d = LocalDate.parse(source, formatter);
    
    System.out.println(d);
} catch (Exception e) {
    e.printStackTrace();
}
```

**배열에서 김씨로 시작하는 요소 삭제**

```java
list.removeIf(i -> i.matches("김.+"));
```

> 제네릭의 타입이 Object 인 경우 String 으로 다운캐스팅하여 matches 함수를 사용해야 한다.

10-1. Scanner 클래스를 사용해서 날짜형식(2021/9/29)을 가진 문자열을 입력 
받아서 Calendar 형 변환 날짜 정보 출력.

String -> LocalDate -> Calendar

String -> Date, Calendar (SimpleDateFormatter)

### 복습

**문자열 받기**

- `Date()` 
- `LocalDate()` 

11-1. 한 학생의 이,국,영,수,총,등 처리하는 2차원 또는 3차원 배열 수업 예제를 
ArrayList 컬렉션 클래스 사용해서 30명의 학생의 성적 처리하세요.

   ㄱ. class Student {}  클래스 선언
   ㄴ. 팀원들 학생 추가
   ㄷ. 학생 검색 기능 추가
   ㄹ. 학생 수정
   ㅁ. 학생 삭제
   ㅂ. 모든 학생 정보  출력 ( iterator 반복자 사용 ) 
   ㅅ. 학생 정렬 ( 번호순 또는 이름순 또는 성적순 )
   ㅁ. 입력받은 학생수 출력

**ㄱ.추가**

```java
for (int i = 0; i < list.size(); i++) {
    Student target = (Student) list.get(i);
}
```

**ㄷ. 검색**

```java
String searchName = "이창익";
ArrayList temp = (ArrayList) list.clone();
temp.removeIf(s -> !((Student) s).getName().equals(searchName));
if (temp.isEmpty()) System.out.println("찾는 학생은 없다.");
else temp.forEach(s -> System.out.println(s));
```

**ㄹ. 수정**

```java
list.set(3, new Student(4, "김창교", 100, 100, 100, 300, 1, 100.00));
```

**ㅁ. 삭제**

```java
int idx = 3;
list.remove(idx);
```

**ㅂ. 반복자**

```java
private static void printStudentList(List list) {
    Iterator ir = list.iterator();
    while (ir.hasNext()) {
        Student s = (Student) ir.next();
        System.out.println(s);
    }
}
```

**ㅅ. 학생정렬**

1. `Collections.sort()`
2. `List.sort()`
3. `Comparator` `Comparable` 

**Collections**

내림차순 정렬

```java
list.sort(Collections.reverseOrder());
// Collections.sort(list, Collections.reverseOrder()); 같은코드
```



**Comparator**

implements Comparable 의 compareTo 메서드

정의하고 `Collections.sort` 사용

implements Comparator 의 compare 메서드

### 복습

`Integer.compare(x, y)` x == y 일 경우 0 반환. x < y 일 경우 -1 반환. x > y 일 경우 1 반환.

compareTo 의 반환값

**compareTo**

```java
@Override
public int compareTo(Object o) {
    Student s2 = (Student) o;
    return Integer.compare(this.getNo(), s2.getNo());
//		return Integer.compare(this.getTot(), s2.getTot());
//		return this.getName().compareTo(s2.getName());
}
```



```java
list.sort(Comparator.comparingDouble(i -> ((Student) i).getAvg()));
```

Q. 함수는 static 만 쓸 수 있을까? getAvg() 처럼 파라미터가 없으면 쓸 수 없을까?

A.

---

**String**

`Serialize` 직렬화

**p.588 [Vector 컬렉션 클래스]**

List, Cloneable

생성자 4개

- `Vector()` 초기용량은 10개
- `Vector(Collection)`
- `Vector(int initialCapacity)` 
- `Vector(int initialCapacity, increment)`  

**vs ArrayList**

멀티스레드에 안전하다.

**v.**

- `addElement()` 동기화에 좋은 메서드. 
- `elementAt(index)` 
- `capacity()` 
- `trimToSize()` 요소갯수만큼 용량을 제거한다.
- `ensureCapacity(capacity)` 배열이 더 필요하면 int 까지 늘린다.
- `setSize(size)` size 를 int 로 바꾼다.

공부:  p.591 예제 11-4

p.595 알아두면 좋아요.

src.zip 파일 압축을 풀면 기본 클래스의  실제 소스코드를 볼 수있다.

**게시판 만들기**

1번페이지 - 10개 최신 게시글

글번호, 작성자, 제목, 내용, 작성일, 조회수 등등

`BoardVO` 

`BoardDTO` 

VO: (Value Object) 값을 담기위한 객체

DTO: 데이터 전송 객체 (Data Transfer Object) 데이터를 넘겨줄때 사용하는 객체.

서버 간에 데이터를 넘겨줄 때 객체에 담아 넘겨준다.

DAO: (Data Access Object) DB 연동해서 처리할 수 있는 기능이 구현된 클래스

MVC 패턴: Model - View - Controller 

**Enumeration 열거자**

출력

1. for 문
2. Iterator
3. Enumeration
4. foreach(함수)

출력을 위해 반복자 (Iterator) 나 열거자 (Enumeration) 어떤것을 사용해도 무방하다.

```java
Enumeration en = list.elements();
while (en.hasMoreElements()) {
    BoardVO vo = (BoardVO) en.nextElement();
    System.out.println(vo);
}
```

**Iterator vs Enumeration**

Iterator 는 fail-fast 이다.

fail - fast: 처리중에 수정, 삭제 등이 발생하면 예외를 발생시킨다.

내일문제: 반복자와 열거자의 차이점과 사용법

`firstElement()` == `get(0)` == `elementAt(0)` 

`lastElement()` == `get(list.size() - 1)` == `elementAt(list.size() - 1)`

**v.**

- `insertElementAt(element, index)` 

**LinkedList 컬렉션 클래스**

불연속적으로 존재하는 데이터를 서로 연결 (Link) 한 형태로 구성

**list.**

p.599 표 11-7

- `offer()` Deque 를 구현했기 때문에 사용가능
- `element()` 
- `getFirst()` `getLast()` 
- `pop()`
- `poll()` 한개씩 제거하면서 가져옵니다.
- `peek()` 제거하지 않고 값을 가져옵니다.
- `removeFirstOccurrence()` 

**poll**

출력

```
김창교
양시영
김희진
이희창
조영빈
```

코드

```java
while (!list.isEmpty()) System.out.println(list.poll());
```

Q. Deque 란?

A. 



**ArrayList 와 LinkedList 컬렉션 클래스 어느경우에 속도가 빠른지?**

p.600 예제 11-5

1. 순차적으로 추가하는 경우 Array 가 더 빠르다.
2. 중간에 데이터를 추가/삭제하는 경우에는 Linked 가 더 빠르다.

**p.604 [Stack 과 Queue]**

Queue <-> Deque

**stack.**

- `empty()` 비어있는지 불린반환
- `peek()` 맨 위에 저장된 객체 반환. 비어있으면 예외발생
- `pop()` 맨 위에 저장된 객체 꺼낸다. 비어있으면 예외발생
- `push()` 객체를 저장한다.
- `search(Object)` 찾으면 위치 반환. 못찾으면 -1 반환. 스택은 인덱스가 1부터 시작한다.

**queue.**

- `add(Object)` 성공여부를 불린반환
- `remove()` 객체 꺼내 반환. 비어있으면 예외발생
- `element()` 삭제없이 요소를 읽어온다. 없으면 예외발생
- `offer()` 객체저장. 성공여부 불린반환
- `poll()` 객체 꺼내며 반환. 비어있으면 null 반환
- `peek()` 삭제없이 요소를 읽어온다. 비어있으면 null 반환

> Stack 은 꺼낼 때 비어있는지 꼭 확인할 것!!

push: 넣다.

pop: 터뜨리다.

peek: 훔쳐보다.

offer: 제공하다. 

poll: 득표하다.

